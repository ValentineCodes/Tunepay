   
   <!DOCTYPE html>
   <html lang="en">
   
		   		   
<!-- Mirrored from paystack.com/blog/marketing/improve-email-deliverability by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 May 2021 15:30:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		   <meta charset="utf-8">
		   <meta name="viewport" content="width=device-width, initial-scale=1.0">
		   <meta http-equiv="X-UA-Compatible" content="ie=edge">
		   <title>How we improved email deliverability at Paystack - The Paystack Blog</title>
		   <link rel="shortcut icon" type="image/x-icon" href="../favicon.png"/>
		   <link rel="stylesheet" href="../public/assets/css/main.min.css">
			 <script src="../public/assets/js/global.min.js"></script>
			<!--[if lt IE 9]>
				<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
				<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
			<![endif]-->
								<!-- Global site tag (gtag.js) - Google Analytics -->
					<script async src="https://www.googletagmanager.com/gtag/js?id=UA-105017042-6"></script>
					<script>
							window.dataLayer = window.dataLayer || [];
							function gtag(){dataLayer.push(arguments);}
							gtag('js', new Date());
							gtag('config', 'UA-105017042-6');
					</script>
						<!--TRACKING-->
			
			<!--TRACKING END-->
	   <title>How we improved email deliverability at Paystack - The Paystack Blog</title><meta name="generator" content="SEOmatic">
<meta name="keywords" content="paystack,online business,nigeria">
<meta name="description" content="A detailed breakdown of how we significantly improved our email deliverability and email sender reputation">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="all">
<meta content="1963073953927815" property="fb:profile_id">
<meta content="en_US" property="og:locale">
<meta content="The Paystack Blog" property="og:site_name">
<meta content="article" property="og:type">
<meta content="https://paystack.com/blog/marketing/improve-email-deliverability" property="og:url">
<meta content="How we improved email deliverability at Paystack" property="og:title">
<meta content="A detailed breakdown of how we significantly improved our email deliverability and email sender reputation" property="og:description">
<meta content="https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/improve-email-deliverability/Blog-Post-Announcement.jpg" property="og:image">
<meta content="1500" property="og:image:width">
<meta content="838" property="og:image:height">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@paystack">
<meta name="twitter:creator" content="@paystack">
<meta name="twitter:title" content="How we improved email deliverability at Paystack">
<meta name="twitter:description" content="A detailed breakdown of how we significantly improved our email deliverability and email sender reputation">
<meta name="twitter:image" content="https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/improve-email-deliverability/Blog-Post-Announcement.jpg">
<meta name="twitter:image:width" content="1500">
<meta name="twitter:image:height" content="838">
<link href="improve-email-deliverability.html" rel="canonical">
<link href="../../blog.html" rel="home"></head>
      
   	   <body>
		   	    <nav class="nav-wrap" id="nav">
        <div class="nav">
            <div class="nav__left">
                <a href="../index.html">
                    <img src="../public/assets/images/logo/paystack-logo.svg" alt="Paystack logo">
                </a>
            </div>
            <div class="nav__right">
                <a class="button button--green" href="../ask.html">
                    <span class="button__text">Ask the <span class="u-no-mobile">Paystack </span>Blog</span>
                </a>
            </div>
        </div>
    </nav>

	<article class="post">
		<div class="container">
		  <div class="post__header">
    <div class="post__category">
          <span class="post__category"><a href="../category/marketing.html">Marketing</a></span>

      <span class="post__read-time">·
        Jun 06, 2019</span>
    </div>
    <h1 class="post__title">How we improved email deliverability at Paystack</h1>
    <p class="post__sub-title">A detailed breakdown of how we significantly improved our email deliverability and email sender reputation</p>
  </div>

												
	<figure class="post__image-wrap">
		<div class="post__image--feature">
			<div class="post__image">
								<img 
					class="lazyload"
					data-original="https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/improve-email-deliverability/Blog-Post-Announcement.jpg"
					data-action="zoom" 
					data-src="https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/improve-email-deliverability/Blog-Post-Announcement.jpg"
										alt="How we improved email deliverability">
			</div>
					</div>
	</figure>

							<main class="grid grid--with-gutters"> 
			<aside class="grid__column grid__column--3" style="text-align: center">
																									<div class="post__meta--bio">
		<div class="post__author">
			<div class="author__image">
																					<img src="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/authors/Profile-photo-2019_cropped-1.jpg" width="70px" height="70px" alt="Author's avatar" class="author__avatar lazyload">
			</div>
			<div class="author__info">
								<div class="author__name">Abdulrahman Jogbojogbo</div>
				<div class="author__role">Product Marketer,
					Paystack</div>
							</div>
		</div>
	</div>

																				<nav class="post__nav">
					<p>On this page</p>
					<ul>
						<template>
							<li>
								<a href="#section-number">Section title</a>
							</li>
						</template>
					</ul>
				</nav>
			</aside>	

						<div class="post__body grid__column grid__column--offset-1 grid__column--8">
																<p>In late 2018, a friend sent me a screenshot of a warning he received from Gmail when he opened an email broadcast from Paystack - a large yellow banner carrying the words <strong>“Be careful with this message.”</strong></p>
																									<figure class="post__image-wrap">
		<div class="post__image post__image--md">
						<img class="lazyload"
				src="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/gmail-warning.png"
				data-action="zoom" 
				data-original="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/gmail-warning.png" 
								alt="Image">
		</div>
		<figcaption class="image-caption image-caption--centered">
			Gmail warning an email recipient about a Paystack email
		</figcaption>
	</figure>

																						<p>Gmail was warning our email subscribers that our emails might be harmful, and it was immediately clear that our open rates and email deliverability could suffer as a result.</p>
<p>In this article, I’m going to share in detail everything we learned while fixing this. If you're ever in a similar situation, this post should help you resolve it for yourself.</p>
																						<h2>Understanding Email Sender Reputation</h2><p>I did several Google searches to understand the problem, and quickly realised that:</p><ul><li>It was hard to find a single guide that explained everything I needed to do from A to Z</li><li>Email Sender Reputation significantly influences email deliverability</li></ul><p>An Email Sender Reputation is a score, usually between 0 - 100, that Email Service Providers (ESPs) such as Gmail, Outlook, and Yahoo Mail assign to organisations that send out emails. The higher the score, the more likely it is that ESPs will deliver emails to subscribers’ inboxes.</p><p>The lower the score, the more likely it is that when you send broadcast emails, many of those emails will either get caught in subscribers’ spam folders, or not get delivered at all.</p><p>We monitor our reputation score with Sender Score's look-up tool. <a href="https://www.senderscore.org/">Check your email sender reputation</a>.</p>
																															<div class="shareable-takeaway-wrap shareable-takeaway-wrap--blue">
		<div class="shareable-takeaway">
			<div class="shareable-takeaway__header">
				<div class="shareable-takeaway__title">Shareable Takeaway</div>
			</div>
			<div class="shareable-takeaway__text">An Email Sender Reputation score is a score assigned by Email Service Providers such as Gmail and Yahoo Mail to email marketers. The lower the score, the more likely your emails will end up in spam.</div>
			<div class="shareable-takeaway__footer">
				<a href="whatsapp://send?text=Check%20this%20out:%0A&ldquo;An Email Sender Reputation score is a score assigned by Email Service Providers such as Gmail and Yahoo Mail to email marketers. The lower the score, the more likely your emails will end up in spam.&rdquo;%20via%20The%20Paystack%20Blog%20https://paystack.com/blog/marketing/improve-email-deliverability" data-action="share/whatsapp/share" class="button button--has-icon button--large button--whatsapp">
					<i class="whatsapp-icon"></i>
					Share on WhatsApp
				</a>
				<a href="https://www.facebook.com/sharer.php?u=https://paystack.com/blog/marketing/improve-email-deliverability" target="_blank" class="button button--has-icon button--large button--facebook">
					<i class="facebook-icon"></i>
					Share on Facebook
				</a>
				<a class="button button--has-icon button--large button--twitter" target="_blank" href="https://twitter.com/intent/tweet?text=An%20Email%20Sender%20Reputation%20score%20is%20a%20score%20assigned%20by%20Email%20Service%20Providers%20such%20as%20Gmail%20and%20Yahoo%20Mail%20to%20email%20marketers.%20The%20lower%20the%20score,%20the%20more%20likely%20your%20emails%20will%20end%20up%20in%20spam.%20via%20@paystack%20https://paystack.com/blog/marketing/improve-email-deliverability" class="button button--has-icon button--large button--twitter">
					<i class="twitter-icon"></i>
					Share on Twitter
				</a>
			</div>
		</div>
	</div>

																													<p>A lot of factors contribute to the reputation score, but the important ones all have to do with how subscribers engage with your emails. ESPs listen for both positive and negative engagement signals to increase or reduce a sender’s reputation score.</p>
<p><strong>Examples of positive engagement signals include:</strong></p>
<ul><li>a high open rate - your open rate is the percentage of people that open your email compared to the number of people who received the email</li>
<li>a high click-through rate - the click-through rate is the percentage of people who click on a link in your email, compared to the number of people who received the email</li>
<li>subscribers forwarding your emails to other recipients</li></ul><p><strong>Examples of negative engagement signals include:</strong></p>
<ul><li>a very low open rate</li>
<li>subscribers reporting your emails as spam</li>
<li>a high unsubscribe rate</li>
<li>inclusion of your domain name in email blacklists (more on email blacklists later)</li>
<li>a high hard bounce rate - the percentage of emails that don’t get delivered because they were sent to invalid email addresses</li>
<li>a high soft bounce rate - the percentage of emails that don’t get delivered because they were sent to subscribers with full inboxes</li></ul>
																						<h2>A checklist for improving your email deliverability and sender reputation</h2><p>Here’re the actions we took to improve our Email Sender Reputation, and by extension, our deliverability. We'll dive into each one in detail.</p><ol><li>Authenticating Paystack’s email sending domain</li><li>Removing Paystack’s domain from credible email blacklists</li><li>Periodically pruning our email list of hard bounces</li><li>Monitoring key email deliverability metrics</li></ol>
																													      
    
	<section class="home-section--subscribe">
		<div class="container container--md">
			<div class="subscribe-section subscribe-section--lg">
				<div class="subscribe-section__cta">
					<div class="subscribe-section__title">Get more stories like this</div>
					<div class="subscribe-section__sub-title u-width-660">Enter your email to get similar stories about how to make the internet work for your business.</div>
					<div class="subscribe-section__form">
						<form data-form-location="storyList" method="post" class="form--inline form--centered form">
							<div class="form__group">
								<input type="email" placeholder="Email Address" aria-placeholder="Enter Email Address" class="form__input form__input--large">
							</div>
							<button class="button button--green button--large">
								<span class="loading-icon">
									<i class="ion ion-load-d"></i>
								</span>
								<span class="button__text">Subscribe</span>
							</button>
						</form>
					</div>
				</div>
				<div class="subscribe-section__congrats">
					<div class="subscribe-section__title"></div>
					<div class="subscribe-section__sub-title">You&#039;re awesome ❤️</div>
				</div>
			</div>
		</div>
	</section>

																						<h2>Authenticating our email sending domain</h2><p>Email authentication helps an organisation prove that emails claiming to come from them are actually authorised by the organisation.<br /></p><p>Before we authenticated our emails, our subscribers' Email Service Providers - sometimes called Mail Transfer Agents (MTA) - couldn't tell for sure that emails claiming to come from a <strong>paystack.com</strong> email address were actually coming from Paystack. This is one of the reasons why Gmail was sending our subscribers the warning on the large yellow banner.</p><p>After we authenticated our email sending domains, our subscribers’ ESPs could verify authorship of Paystack emails on our subscribers’ behalf, and help us get the emails delivered into the right mailboxes.</p><p>On a high level, this is how email authentication works: we add a bit of information to all our emails, and then add a corresponding bit of information to a publicly available directory that everyone can see, but only someone from Paystack can access. Now, when we send out emails, our subscribers' ESPs can verify the authenticity of the emails by checking the bit of information in the email against the publicly available directory for a match.</p>
																						<h2>The main ways to authenticate emails</h2><p>There are several ways to authenticate emails, but the 3 most important ones, and the ones we implemented, are:</p><ul><li><strong>Sender Policy Framework (SPF)</strong> - an authentication method that lets our subscribers' ESPs verify that an email claiming to come from paystack.com is indeed sent by an IP address, or domain authorised by us</li><li><strong>Domain Keys Identified Mail (DKIM)</strong> - an email authentication method that lets our subscribers' ESPs verify that the server claiming to have sent the email is indeed who they claim they are. Since modern email servers use secure email sending protocols, this also implies that the content of our emails didn't change in transit and that we take credit for the content of the emails. As a pair, SPF and DKIM are effective authentication methods that complement each other. SPF only allows us to declare authorised senders, while DKIM helps to verify the identity of senders claiming to be authorised by us.</li><li><strong>Domain-based Message Authentication, Reporting and Conformance (DMARC)</strong> - this authentication method allows us to indicate that our emails are protected by SPF and DKIM. It also instructs ESPs on actions to take when an email claiming to come from us fails one or both of SPF and DKIM - should our subscribers' ESPs accept, reject, or quarantine these emails? At Paystack, we set our DMARC record to quarantine emails that fail SPF, DKIM, or both. Lastly, DMARC lets us set up an email where reports of emails that pass or fail our email authentication are sent to. This allows us to review and modify our policies while identifying false positives and false negatives.</li></ul>
																															<div class="shareable-takeaway-wrap shareable-takeaway-wrap--blue">
		<div class="shareable-takeaway">
			<div class="shareable-takeaway__header">
				<div class="shareable-takeaway__title">Shareable Takeaway</div>
			</div>
			<div class="shareable-takeaway__text">The 3 most important email authentication methods every email marketer should adopt are SPF, DKIM, and DMARC</div>
			<div class="shareable-takeaway__footer">
				<a href="whatsapp://send?text=Check%20this%20out:%0A&ldquo;The 3 most important email authentication methods every email marketer should adopt are SPF, DKIM, and DMARC&rdquo;%20via%20The%20Paystack%20Blog%20https://paystack.com/blog/marketing/improve-email-deliverability" data-action="share/whatsapp/share" class="button button--has-icon button--large button--whatsapp">
					<i class="whatsapp-icon"></i>
					Share on WhatsApp
				</a>
				<a href="https://www.facebook.com/sharer.php?u=https://paystack.com/blog/marketing/improve-email-deliverability" target="_blank" class="button button--has-icon button--large button--facebook">
					<i class="facebook-icon"></i>
					Share on Facebook
				</a>
				<a class="button button--has-icon button--large button--twitter" target="_blank" href="https://twitter.com/intent/tweet?text=The%203%20most%20important%20email%20authentication%20methods%20every%20email%20marketer%20should%20adopt%20are%20SPF,%20DKIM,%20and%20DMARC%20via%20@paystack%20https://paystack.com/blog/marketing/improve-email-deliverability" class="button button--has-icon button--large button--twitter">
					<i class="twitter-icon"></i>
					Share on Twitter
				</a>
			</div>
		</div>
	</div>

																													<h2>Setting up email authentication</h2><p>The two things I needed to be able to authenticate our emails were:</p><ul><li>Access to the DNS Server for our email sending domain</li><li>Access to <a href="http://drip.com/">Drip</a>, the tool we use to send broadcast emails</li></ul><p>Authenticating Paystack’s email domain required some technical work, so I worked with our engineering team to make it happen. Here’s a breakdown of the steps we took:</p><p><strong>STEP 1</strong>: We copied Drip's SPF record, which is:<br /><br /><code>v=spf1 include:sendgrid.net ~all</code><br /><br /><strong>Important:</strong> your email marketing tool will likely have a different SPF record</p><p><strong>STEP 2</strong>: Our marketing automation tool, Drip, sends emails using Sendgrid, so we needed to get the DKIM record from Sendgrid, which is something like:<br /><br /><code>v=DKIM1; k=rsa; p=really-long-public-key</code> <br /><br /><strong>Important:</strong> your email marketing tool might have a different SPF record. Please refer to your email marketing tool's Help Desk for help on how to get the specific SPF and DKIM records for that tool. If you use Drip, you can <a href="https://help.drip.com/hc/en-us/articles/115003729911-Set-Up-a-Custom-Sending-Domain" target="_blank" rel="noreferrer noopener">find detailed instructions here</a>.</p><p><strong>STEP 3</strong>: The engineering team updated our DNS with our SPF and DKIM records</p><p><strong>Important:</strong> If your organisation sends out emails using different tools, please include the different SPF and DKIM records of all those tools in one record and not as separate records. Sometimes, some ESPs are not smart enough to check for other SPF and DKIM records after they see the first ones. This may lead to some of your emails not getting delivered.</p><p>For example, here's the preferred SPF record format:<br /> <code>v=spf1 include:sendgrid.net include: domain1.net include: domain2.net ~all</code><br /><br />It contains the multiple SPF records for <a href="http://sendgrid.net/">sendgrid.net</a>, <a href="http://domain1.net/">domain1.net</a> and <a href="http://domain2.net/">domain2.net</a> all in one line.</p><p>Here's an example of an SPF record that some ESPs might have trouble with: <br /><br /><code>v=spf1 include:sendgrid.net ~allv=spf1 include:domain1.net ~allv=spf1 include:domain2.net ~all</code></p><p>This format contains different SPF records in multiple lines, and some ESPs might not know to check lines 2 &amp; 3 causing some of your emails to not deliver.</p><p><strong>STEP 4</strong>: I shared our preference for how ESPs should treat emails that fail one or both of SPF and DKIM with our engineering team, and they translated it into a DMARC record that looks like this: <br /><br /><code>v=DMARC1; p=quarantine; rua=mailto:dreports[at]paystack[dot]com; pct=100</code></p><p>The DMARC record above instructs all ESPs to quarantine ("<strong>p=quarantine"</strong>) 100% (<strong>pct=100</strong>) of emails that fail one or both of SPF and DKIM, and send pass or fail reports to the email "dreports[at]paystack.com (<strong>rua=mailto:dreports[at]paystack.com</strong>)</p><p><strong>STEP 5</strong>: The engineering team updated our DNS record with our DMARC record</p><p>Authenticating Paystack’s email domains contributed significantly to our improved email sender reputation, and ultimately, our improved email deliverability.</p><p>Sometimes, we use Global Cyber Alliance's free lookup tool to check the status of our email authentication. <a href="http://dmarcguide.globalcyberalliance.org/">Try Global Cyber Alliance's free lookup tool for yourself here</a>.</p>
																													      
    
	<section class="home-section--subscribe">
		<div class="container container--md">
			<div class="subscribe-section subscribe-section--lg">
				<div class="subscribe-section__cta">
					<div class="subscribe-section__title">Get more stories like this</div>
					<div class="subscribe-section__sub-title u-width-660">Enter your email to get similar stories about how to make the internet work for your business.</div>
					<div class="subscribe-section__form">
						<form data-form-location="storyList" method="post" class="form--inline form--centered form">
							<div class="form__group">
								<input type="email" placeholder="Email Address" aria-placeholder="Enter Email Address" class="form__input form__input--large">
							</div>
							<button class="button button--green button--large">
								<span class="loading-icon">
									<i class="ion ion-load-d"></i>
								</span>
								<span class="button__text">Subscribe</span>
							</button>
						</form>
					</div>
				</div>
				<div class="subscribe-section__congrats">
					<div class="subscribe-section__title"></div>
					<div class="subscribe-section__sub-title">You&#039;re awesome ❤️</div>
				</div>
			</div>
		</div>
	</section>

																						<h2>Removing Paystack’s domain name from email blacklists</h2><p>An email blacklist is a real-time database of domains that are believed to be sending emails considered to be spam or fraudulent. There are more than 100 known blacklists, and ESPs routinely check for domain names on some of the lists to update their reputation scores for the domains. I discovered that our paystack.com domain had somehow been listed on 20 email blacklists.<br /><br />(I should mention immediately that we handle customers' emails with the highest standards, and as I describe later, simply authenticating our domain immediately removed us from the blacklists.)</p><p>&#x1f4dd; <strong>Important</strong>: Please note that not all blacklists are credible - a few are fraudulent. When I was searching through blacklists, I found one that listed Paystack’s sending domain, and asked for payment to delist our domain. No credible email blacklist will ask you to pay to get delisted. Instead, they’ll provide a clear list of action items designed to have you following email sending best practices.</p><h3><strong>How do blacklists work?</strong></h3><p>Here’re the 2 most popular ways blacklists add domains to their list:</p><ul><li><strong>Spam traps</strong> - blacklists often operate a large number of active emails that have never subscribed to an email list before and inactive emails that should have stopped receiving any emails. If your organisation sends large amounts of emails to these trap emails, you risk being added to a blacklist</li><li><strong>Feedback from subscribers</strong> - some blacklists also listen for feedback from subscribers. If subscribers keep reporting you for sending unwanted emails, or not honouring unsubscribe requests, you also risk being added to a blacklist</li></ul><p>In order to find the blacklists where we were listed, I first searched through aggregated blacklist lookup platforms (tools that search about a 100 blacklists at a time). Here’re the ones I used:</p><ul><li><a href="https://www.ultratools.com/tools/spamDBLookupResult">UltraTools Domain Blacklist Check</a></li><li><a href="https://mxtoolbox.com/blacklists.aspx">MX Lookup</a></li></ul><p>Next, I checked our domain against some very popular blacklists by hand:</p><ul><li><a href="https://www.spamcop.net/bl.shtml">Spamcop</a></li><li><a href="https://www.spamhaus.org/lookup/">Spamhaus</a></li><li><a href="https://www.invaluement.com/research/">Invaluement</a></li><li><a href="http://www.surbl.org/surbl-analysis">SURBL</a></li><li><a href="http://www.barracudacentral.org/lookups">Barracuda</a></li></ul>
																						<h2>Removing Paystack’s domain from the blacklist</h2><p>I found that by simply authenticating Paystack’s email sending domain, we were excluded from all the blacklists that previously listed us. In your case, however, your email sending domain may have been included on a blacklist for other reasons, and email authentication might not get you off the hook.</p><p>Here’s a general workflow for delisting your email domain from an email blacklist:</p><ul><li>Get help from your technical team to ensure that your email server is correctly configured, and your email domain is authenticated</li><li>Follow the recommended blacklist removal process - some blacklists will tell you why you’ve been listed and give specific instructions that’ll get you delisted</li><li>Check to see if the blacklist allows self-removal. If it does, be sure to fix the identified issues, and then remove your organisation’s sending domain. It’s pretty straight forward the first time, but it gets more difficult if you get blacklisted subsequently</li><li>Some other blacklists give clear instructions that’ll get you delisted, and then routinely do sweep checks to list new domains or delist some existing ones</li></ul><p>Removing Paystack’s sending domain from blacklists was an important step in improving our email deliverability.</p>
																															<div class="shareable-takeaway-wrap shareable-takeaway-wrap--blue">
		<div class="shareable-takeaway">
			<div class="shareable-takeaway__header">
				<div class="shareable-takeaway__title">Shareable Takeaway</div>
			</div>
			<div class="shareable-takeaway__text">Being listed on an email blacklist affects your reputation score, because ESPs routinely check those blacklists to determine whether to deliver emails you send from your domain</div>
			<div class="shareable-takeaway__footer">
				<a href="whatsapp://send?text=Check%20this%20out:%0A&ldquo;Being listed on an email blacklist affects your reputation score, because ESPs routinely check those blacklists to determine whether to deliver emails you send from your domain&rdquo;%20via%20The%20Paystack%20Blog%20https://paystack.com/blog/marketing/improve-email-deliverability" data-action="share/whatsapp/share" class="button button--has-icon button--large button--whatsapp">
					<i class="whatsapp-icon"></i>
					Share on WhatsApp
				</a>
				<a href="https://www.facebook.com/sharer.php?u=https://paystack.com/blog/marketing/improve-email-deliverability" target="_blank" class="button button--has-icon button--large button--facebook">
					<i class="facebook-icon"></i>
					Share on Facebook
				</a>
				<a class="button button--has-icon button--large button--twitter" target="_blank" href="https://twitter.com/intent/tweet?text=Being%20listed%20on%20an%20email%20blacklist%20affects%20your%20reputation%20score,%20because%20ESPs%20routinely%20check%20those%20blacklists%20to%20determine%20whether%20to%20deliver%20emails%20you%20send%20from%20your%20domain%20via%20@paystack%20https://paystack.com/blog/marketing/improve-email-deliverability" class="button button--has-icon button--large button--twitter">
					<i class="twitter-icon"></i>
					Share on Twitter
				</a>
			</div>
		</div>
	</div>

																													<h2>Pruning our email list</h2><p>After a while, it's natural for a percentage of your email subscribers to stop opening your emails. When this happens, the email list is said to have partly decayed. We've created an email pruning workflow that removes our least engaged subscribers from our email list.</p><h3><strong>Why do we prune our email list?</strong></h3><p>You might be asking "It takes a long time to grow a large email list. Why on earth would you willingly delete email addresses from your list?!" There’re 2 main reasons why we prune our list:</p><ul><li><strong>To improve our sender reputation</strong> - When a significant percentage of our subscribers don’t open our emails, it drives down our engagement numbers which in turn affects our email sender reputation. Since a percentage of subscribers will inevitably churn, if you don't prune your list, those inactive subscribers start to account for a larger and larger percentage of your entire email list. For example, if 20 out of 100 subscribers open our emails - that’s an open rate of 20%. When we prune our email list to say, 80 emails - 20/80 would net an improved 25% open rate, which would slightly improve our reputation score. Removing subscribers who're no longer engaged, therefore, ultimately improves our email deliverability.</li><li><strong>To reduce cost</strong> - like many email marketing tools, Drip's cost is determined by the number of emails in our account. The more the emails in our list, the more expensive it gets. Without realizing it, our email list had grown very large with many inactive addresses. So proactively identifying and removing inactive subscribers saves us a lot of money.</li></ul>
																															<div class="shareable-takeaway-wrap shareable-takeaway-wrap--blue">
		<div class="shareable-takeaway">
			<div class="shareable-takeaway__header">
				<div class="shareable-takeaway__title">Shareable Takeaway</div>
			</div>
			<div class="shareable-takeaway__text">Over time, some part of your email list decays. Removing your least engaged users helps improve your email sender reputation and email deliverability, and also saves cost.</div>
			<div class="shareable-takeaway__footer">
				<a href="whatsapp://send?text=Check%20this%20out:%0A&ldquo;Over time, some part of your email list decays. Removing your least engaged users helps improve your email sender reputation and email deliverability, and also saves cost.&rdquo;%20via%20The%20Paystack%20Blog%20https://paystack.com/blog/marketing/improve-email-deliverability" data-action="share/whatsapp/share" class="button button--has-icon button--large button--whatsapp">
					<i class="whatsapp-icon"></i>
					Share on WhatsApp
				</a>
				<a href="https://www.facebook.com/sharer.php?u=https://paystack.com/blog/marketing/improve-email-deliverability" target="_blank" class="button button--has-icon button--large button--facebook">
					<i class="facebook-icon"></i>
					Share on Facebook
				</a>
				<a class="button button--has-icon button--large button--twitter" target="_blank" href="https://twitter.com/intent/tweet?text=Over%20time,%20some%20part%20of%20your%20email%20list%20decays.%20Removing%20your%20least%20engaged%20users%20helps%20improve%20your%20email%20sender%20reputation%20and%20email%20deliverability,%20and%20also%20saves%20cost.%20via%20@paystack%20https://paystack.com/blog/marketing/improve-email-deliverability" class="button button--has-icon button--large button--twitter">
					<i class="twitter-icon"></i>
					Share on Twitter
				</a>
			</div>
		</div>
	</div>

																													<h2>How we prune our email list</h2><p>The longer it’s been since a subscriber opens an email from you, the lower the chances of them ever opening another email. This is an inevitable "law" of email marketing. Depending on the industry, what qualifies as an engaged user varies. At Paystack, we default to a conservative 90 day period of inactivity before drawing subscribers into a re-engagement campaign.</p><p>Here’s how I found our “90 days” number:</p><ul><li>I queried our email list with this condition: “show me the number of subscribers who haven't opened our email in the last 10 days”</li><li>I then increased the inactivity period by 10 days at a time till I got to 150 days</li></ul><p>At first, the corresponding number of subscribers dropped sharply as the inactivity period increased but the drop started to steady and I found that after a point, the number of inactive subscribers remained flat.</p><p>Let's break this down with sample numbers and a simple graph.<br /></p><p>(Please note that these numbers are not real - they're sample numbers for the purpose of this demonstration.)<br /></p>
																									<figure class="post__image-wrap">
		<div class="post__image post__image--md">
						<img class="lazyload"
				src="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/inactive-subscribers-graph.png"
				data-action="zoom" 
				data-original="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/inactive-subscribers-graph.png" 
								alt="Inactives over time">
		</div>
		<figcaption class="image-caption image-caption--centered">
			Number of inactive subscribers vs inactivity period
		</figcaption>
	</figure>

																						<p>From this graph, it’s clear that after 60 days of inactivity, a subscriber that doesn’t open an email from the sender will likely never open one again. This is a safe method for determining the cut off point for email lists.</p>
<p>Now to the actual “how” - how exactly did we prune our list? At Paystack, we use Drip to automate our email marketing efforts, so I designed and activated a “pruning workflow.” Here’s what the workflow looks like:</p>
																									<figure class="post__image-wrap">
		<div class="post__image post__image--md">
						<img class="lazyload"
				src="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/unsubscribe-workflow.png"
				data-action="zoom" 
				data-original="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/unsubscribe-workflow.png" 
								alt="Unsubscribe workflow">
		</div>
		<figcaption class="image-caption image-caption--centered">
			Unsubscribe workflow
		</figcaption>
	</figure>

																						<p>For this workflow, we only bring in subscribers who haven’t read the past 10 emails or opened a Paystack email in the past 90 days. We apply a "quarantine" tag, which we use to exclude these email address from subsequent broadcasts (in case they're simply tired of hearing from us), and we wait for 30 days, after which we draw them into a re-engagement campaign that encourages them to choose their email subscription preferences.</p>
																									<figure class="post__image-wrap">
		<div class="post__image post__image--md">
						<img class="lazyload"
				src="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/manage_subscriptions_page.png"
				data-action="zoom" 
				data-original="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/manage_subscriptions_page.png" 
								alt="Email preferences">
		</div>
		<figcaption class="image-caption image-caption--centered">
			Subscribers to the Paystack email list can choose email preferences
		</figcaption>
	</figure>

																						<p>If they open one of the campaign emails and select their preferred email types, we keep them on our list and only send them the exact types of emails they opted into. Otherwise, we remove them from the Paystack email list.</p>
<p>Pruning our email list required some initial effort, but its benefits are long term and require little to no subsequent input. The pruning exercise improves open rates, as well as email deliverability.</p>
																						<h2>Monitoring our email sender reputation metrics</h2><p>We monitor key email metrics which help us detect fluctuations in our email deliverability, and take appropriate actions. Here’re the most important metrics we track:</p><ul><li><strong>Spam rate</strong> - This is a ratio of emails that subscribers mark as spam compared to the number of emails that were sent out</li><li><strong>IP reputation</strong> - This gives a sense of how likely it is that an email client’s spam filter will mark our email as spam or not</li><li><strong>Authentication</strong> - This shows the ratio of emails that pass SPF, DKIM &amp; DMARC checks compared to the number of emails that attempted the authentication</li></ul><p>There’re a number of tools that can help you monitor one or more of these key metrics. I’ve, however, found <a href="https://postmaster.google.com/">Google Postmaster Tools</a> to be one of the most user friendly tools to use.</p>
																									<figure class="post__image-wrap">
		<div class="post__image post__image--md">
						<img class="lazyload"
				src="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/Google-Postmaster-Tools.png"
				data-action="zoom" 
				data-original="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/improve-email-deliverability/Google-Postmaster-Tools.png" 
								alt="Google Postmaster">
		</div>
		<figcaption class="image-caption image-caption--centered">
			Google Postmaster Tool
		</figcaption>
	</figure>

																						<p>Like you can see from the image above. we now score 100% across the three metrics - DKIM success rate, SPF success rate, and DMARC success rate.</p><p>&#x1f4dd; <strong>Important:</strong> Google Postmaster Tool won't provide data on emails that weren’t sent to a Gmail client, and that might be a downside for you if a significant percentage of your subscribers don't use Gmail.</p>
																						<h2>Summary</h2><p>I hope this post has provided a good understanding of everything we did to go from yellow banner to improved email deliverability!</p><p>To sum it up, here’re the action items that worked for us:</p><ul><li>Authenticating Paystack’s email sending domain by setting up SPF, DKIM, and DMARC</li><li>Removing Paystack’s email sending domain from credible email blacklists</li><li>Proactively pruning unengaged subscribers from our email list</li><li>Monitoring key email metrics</li></ul><p>If you’ve got questions, or ideas on better ways to improve email deliverability, please hit me up at <a href="../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="197a7674746c77706d60596978606a6d787a72377a7674">[email&#160;protected]</a> and address the email to Abdulrahman Jogbojogbo; I’d love to hear from you!</p>
																													      
    
	<section class="home-section--subscribe">
		<div class="container container--md">
			<div class="subscribe-section subscribe-section--lg">
				<div class="subscribe-section__cta">
					<div class="subscribe-section__title">Get more stories like this</div>
					<div class="subscribe-section__sub-title u-width-660">Enter your email to get similar stories about how to make the internet work for your business.</div>
					<div class="subscribe-section__form">
						<form data-form-location="storyList" method="post" class="form--inline form--centered form">
							<div class="form__group">
								<input type="email" placeholder="Email Address" aria-placeholder="Enter Email Address" class="form__input form__input--large">
							</div>
							<button class="button button--green button--large">
								<span class="loading-icon">
									<i class="ion ion-load-d"></i>
								</span>
								<span class="button__text">Subscribe</span>
							</button>
						</form>
					</div>
				</div>
				<div class="subscribe-section__congrats">
					<div class="subscribe-section__title"></div>
					<div class="subscribe-section__sub-title">You&#039;re awesome ❤️</div>
				</div>
			</div>
		</div>
	</section>

													</div>
		</main>
		</div>
	</article>

	

			<section class="similar-posts-wrap">
			<div class="container">
				<div class="grid grid--with-gutters">
					<div class="similar-posts">
						<div class="section-title">Read this next</div>
						<div class="similar-post-wrap">
																							<div class="grid__column grid__column--offset-1 grid__column--5 grid__column--6-s similar-post">
									<a class="similar-post__content" href="billboard-pricing-lagos.html">
																																<div class="similar-post__image-wrap">
												<img class="similar-post__image lazyload" src="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_768x432_crop_center-center_82_line/mounting-paystack-billboard-hero-4.jpg" sizes="100vw" data-srcset="https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_400x225_crop_center-center_82_line/mounting-paystack-billboard-hero-4.jpg 1x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_800x450_crop_center-center_82_line/mounting-paystack-billboard-hero-4.jpg 2x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_300x168_crop_center-center_82_line/mounting-paystack-billboard-hero-4.jpg 1x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_600x337_crop_center-center_82_line/mounting-paystack-billboard-hero-4.jpg 2x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_768x432_crop_center-center_82_line/mounting-paystack-billboard-hero-4.jpg 1x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_1536x864_crop_center-center_82_line/mounting-paystack-billboard-hero-4.jpg 2x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_1200x675_crop_center-center_100_line/mounting-paystack-billboard-hero-4.jpg 3x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/billboard-pricing-lagos/_2400x1350_crop_center-center_100_line/mounting-paystack-billboard-hero-4.jpg 3x" alt="Feature Image">
											</div>
																				<div class="similar-post__title">How much does a billboard cost in Lagos? (2019 Pricing Guide)</div>
										<div class="similar-post__snippet">Everything we learned while mounting Paystack&#039;s first billboards in Nigeria&#039;s commercial capital</div>
									</a>
								</div>
																							<div class="grid__column grid__column--offset-1 grid__column--5 grid__column--6-s similar-post">
									<a class="similar-post__content" href="food-business-marketing-coronavirus.html">
																																<div class="similar-post__image-wrap">
												<img class="similar-post__image lazyload" src="../../../s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_768x510_crop_center-center_82_line/food-business-hero-compressor.png" sizes="100vw" data-srcset="https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_400x265_crop_center-center_82_line/food-business-hero-compressor.png 1x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_800x531_crop_center-center_82_line/food-business-hero-compressor.png 2x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_300x199_crop_center-center_82_line/food-business-hero-compressor.png 1x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_600x398_crop_center-center_82_line/food-business-hero-compressor.png 2x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_768x510_crop_center-center_82_line/food-business-hero-compressor.png 1x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_1536x1020_crop_center-center_82_line/food-business-hero-compressor.png 2x, https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_1200x675_crop_center-center_100_line/food-business-hero-compressor.png 3x" alt="Feature Image">
											</div>
																				<div class="similar-post__title">15 tactics to keep your food business running during COVID-19</div>
										<div class="similar-post__snippet">A 6,000-word playbook for food business owners in Nigeria and Ghana. Here&#039;s how restaurants and bars in 8 countries are boosting sales during COVID-19.</div>
									</a>
								</div>
													</div>
					</div>
				</div>
			</div>
		</section>
	
	            
                                                        
    
<footer class="footer">
    <div class="footer__top">
        <div class="container">
            <div class="footer__left">
<!--                 <div class="footer__primary-title">Start accepting payments online</div> -->
                <div class="footer__secondary-title">Over 60,000 businesses in Nigeria use Paystack to accept local and international online payments with our secure payments gateway, including Domino’s Pizza, GIGM, and Axa Mansard Insurance. Paystack is free to integrate, and quick to set up. Take us for a spin today.</div>
            </div>
            <div class="footer__right footer__left--xs">
                    <a target="_blank" rel="noopener" href="https://dashboard.paystack.com/#/signup" class="button button--green button--large">Create your free account</a>   
            </div>
        </div>
    </div>
    <div class="container">
        <div class="footer__bottom">
            <div class="footer__left">
                    &copy; 2021 Paystack
            </div>
            <div class="footer__right">
                <a target="_blank" rel="noopener" href="../../index.html">paystack.com
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                        <path d="M87 18.5c0-3-2.5-5.5-5.5-5.5H18.7c-3.5 0-6.7 3.4-5.5 7.2.8 2.3 3.1 3.8 5.5 3.8H64c1.6 0 2.3 1.9 1.2 3L18.7 73.5c-2.2 2.2-2.3 5.9 0 8.1 2.2 2.1 5.6 1.8 7.8-.3L73 34.8c1.1-1.1 3-.3 3 1.2v45.3c0 3.3 2.8 6.1 6.1 5.7 2.8-.3 4.9-2.9 4.9-5.7V18.5c0-3 0 .6 0 0 0-3 0 .6 0 0 0-3 0 .6 0 0 0-3 0 .6 0 0 0-3 0 .6 0 0z"/>
                        </svg></a>
            </div>
        </div>
    </div>
</footer>

	
	<script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
		(function (window, document, undefined) {
			var iframes = document.getElementsByTagName('iframe');

			for (var i = 0; i < iframes.length; i++) {
			var iframe = iframes[i],

			players = /www.youtube.com|player.vimeo.com/;

			/* If the RegExp pattern exists within the current iframe */
			if (iframe.src.search(players) > 0) { /* Calculate new video ratio */
			var videoRatio = (iframe.height / iframe.width) * 100;

			/* Set iframe dimension */
			iframe.style.position = 'absolute';
			iframe.style.top = '0';
			iframe.style.left = '0';
			iframe.width = '100%';
			iframe.height = '100%';

			/* Wrap the iframe in a new <div> */
			var wrap = document.createElement('div');
			wrap.style.width = '100%';
			wrap.style.position = 'relative';
			wrap.style.paddingTop = videoRatio + '%';

			/* Add the iframe inside newly created <div> */
			var iframeParent = iframe.parentNode;
			iframeParent.insertBefore(wrap, iframe);
			wrap.appendChild(iframe);
			}
			}

			})(window, document);
				</script>
				<div id="fb-root"></div>
				<script>
					window.twttr = (function (d, s, id) {
			var js,
			fjs = d.getElementsByTagName(s)[0],
			t = window.twttr || {};
			if (d.getElementById(id)) 
			return t;


			js = d.createElement(s);
			js.id = id;
			js.src = "../../../platform.twitter.com/widgets.js";
			fjs.parentNode.insertBefore(js, fjs);

			t._e = [];
			t.ready = function (f) {
			t._e.push(f);
			};

			return t;
			}(document, "script", "twitter-wjs"));
				</script>
				<script>
					window.fbAsyncInit = function () {
			FB.init({xfbml: true, version: 'v2.12'});
			};
			(function (d, s, id) {
			var js,
			fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) {
			return;
			}
			js = d.createElement(s);
			js.id = id;
			js.src = "../../../connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
			}(document, 'script', 'facebook-jssdk'));
	</script>
			<script>lazyload()</script>
	   <script type="application/ld+json">{"@context":"http://schema.org","@graph":[{"@type":"WebPage","author":{"@id":"{parseEnv(seomatic.site.identity.genericUrl)}#identity"},"copyrightHolder":{"@id":"{parseEnv(seomatic.site.identity.genericUrl)}#identity"},"copyrightYear":"2019","creator":{"@id":"{parseEnv(seomatic.site.identity.genericUrl)}#creator"},"dateModified":"2020-03-18T20:29:43+01:00","datePublished":"2019-06-06T10:09:00+01:00","description":"A detailed breakdown of how we significantly improved our email deliverability and email sender reputation","headline":"How we improved email deliverability at Paystack","image":{"@type":"ImageObject","url":"https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/featured/improve-email-deliverability/Blog-Post-Announcement.jpg"},"inLanguage":"en-us","mainEntityOfPage":"https://paystack.com/blog/marketing/improve-email-deliverability","name":"How we improved email deliverability at Paystack","publisher":{"@id":"{parseEnv(seomatic.site.identity.genericUrl)}#creator"},"url":"https://paystack.com/blog/marketing/improve-email-deliverability"},{"@id":"{parseEnv(seomatic.site.identity.genericUrl)}#identity","@type":"LocalBusiness","address":{"@type":"PostalAddress","addressCountry":"Nigeria","addressLocality":"Ikeja","addressRegion":"Lagos","streetAddress":"126 Joel Ogunnaike"},"email":"hello@paystack.com","founder":"Shola Akinlade","foundingLocation":"Lagos, Nigeria","image":{"@type":"ImageObject","height":"2245","url":"https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/Paystack-mark.png","width":"2286"},"logo":{"@type":"ImageObject","height":"60","url":"https://s3-eu-west-1.amazonaws.com/pstk-blog-staging/images/articles/_600x60_fit_center-center_82_none/Paystack-mark.png?mtime=1520797301","width":"61"},"name":"Paystack","priceRange":"$","url":"http://paystack.com"},{"@id":"{parseEnv(seomatic.site.creator.genericUrl)}#creator","@type":"LocalBusiness","name":"Paystack","priceRange":"$"},{"@type":"BreadcrumbList","description":"Breadcrumbs list","itemListElement":[{"@type":"ListItem","item":"https://paystack.com/blog","name":"The Paystack Blog","position":1},{"@type":"ListItem","item":"https://paystack.com/blog/marketing/improve-email-deliverability","name":"How we improved email deliverability at Paystack","position":2}],"name":"Breadcrumbs"}]}</script><script>"use strict";!function(){var e=document.querySelectorAll(".trust-me__question a"),t=function(e){e.preventDefault();var t=this.parentNode,s=t.parentNode.querySelector(".trust-me__answer");t.classList.toggle("trust-me__question--is-open"),s.style.maxHeight?s.style.maxHeight=null:s.style.maxHeight=s.scrollHeight+"px"};e.forEach(function(e){e.addEventListener("click",t)})}();"use strict";!function(){var e=document.querySelector(".post"),t=e.querySelectorAll("h2"),n=e.querySelector(".post__nav"),o=e.querySelector(".post__nav ul"),r=[];n.style.display=t.length?null:"none";var c=function(e,t){e.forEach(function(e){t.insertAdjacentHTML("beforeend",e)})},a=function(e){document.querySelectorAll(e).forEach(function(e){e.classList.remove("active")})};t.forEach(function(e,t){e.id=e.textContent.replace(/\s+/g,"-").toLowerCase(),r.push('<li><a href="#'+e.id+'">'+e.textContent+"</a></li>")}),c(r,o);var i={rootMargin:"0px 0px -50% 100%"},l=new IntersectionObserver(function(e){e.forEach(function(e){var t=e.target.getAttribute("id");e.intersectionRatio>0&&(a(".post__nav li a"),document.querySelector('.post__nav li a[href="#'+t+'"]').classList.add("active"))})},i);t.forEach(function(e){l.observe(e)})}();"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":_typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":_typeof2(t)};!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Zooming=e()}(void 0,function(){function t(t,e,i){var n={passive:!1};3<arguments.length&&void 0!==arguments[3]&&!arguments[3]?t.removeEventListener(e,i,n):t.addEventListener(e,i,n)}function e(t,e){if(t){var i=new Image;i.onload=function(){e&&e(i)},i.src=t}}function i(t){return t.dataset.original?t.dataset.original:"A"===t.parentNode.tagName?t.parentNode.getAttribute("href"):null}function n(t,e,i){if(e.transition){var n=e.transition;delete e.transition,e.transition=n}if(e.transform){var o=e.transform;delete e.transform,e.transform=o}var s=t.style,r={};for(var l in e)i&&(r[l]=s[l]||""),s[l]=e[l];return r}function o(t){return 0===t.button}function s(t){return t.metaKey||t.ctrlKey}function r(){var t=document.documentElement;return{x:Math.min(t.clientWidth,window.innerWidth)/2,y:Math.min(t.clientHeight,window.innerHeight)/2}}function l(e,i,n){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach(function(o){t(e,o,i[o],n)})}var a="auto",h="zoom-in",c="zoom-out",u="grab",d="move",f=function(){},p={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:f,onClose:f,onGrab:f,onMove:f,onRelease:f,onBeforeOpen:f,onBeforeClose:f,onBeforeGrab:f,onBeforeRelease:f,onImageLoading:f,onImageLoaded:f},y={init:function(t){var e,i;e=this,i=t,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(t){e[t]=e[t].bind(i)})},click:function(t){return t.preventDefault(),s(t)?window.open(this.target.srcOriginal||t.currentTarget.src,"_blank"):void(this.shown?this.released?this.close():this.release():this.open(t.currentTarget))},scroll:function(){var t=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||t.scrollLeft,i=window.pageYOffset||t.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:i});var n=this.lastScrollPosition.x-e,o=this.lastScrollPosition.y-i,s=this.options.scrollThreshold;(Math.abs(o)>=s||Math.abs(n)>=s)&&(this.lastScrollPosition=null,this.close())},keydown:function(t){var e;("Escape"===((e=t).key||e.code)||27===e.keyCode)&&(this.released?this.close():this.release(this.close))},mousedown:function(t){if(o(t)&&!s(t)){t.preventDefault();var e=t.clientX,i=t.clientY;this.pressTimer=setTimeout(function(){this.grab(e,i)}.bind(this),200)}},mousemove:function(t){this.released||this.move(t.clientX,t.clientY)},mouseup:function(t){o(t)&&!s(t)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(t){t.preventDefault();var e=t.touches[0],i=e.clientX,n=e.clientY;this.pressTimer=setTimeout(function(){this.grab(i,n)}.bind(this),200)},touchmove:function(t){if(!this.released){var e=t.touches[0],i=e.clientX,n=e.clientY;this.move(i,n)}},touchend:function(t){void t.targetTouches.length||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}},m={init:function(e){this.el=document.createElement("div"),this.instance=e,this.parent=document.body,n(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(e.options),t(this.el,"click",e.handler.clickOverlay.bind(e))},updateStyle:function(t){n(this.el,{zIndex:t.zIndex,backgroundColor:t.bgColor,transition:"opacity\n        "+t.transitionDuration+"s\n        "+t.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},g="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":_typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":_typeof(t)},v=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},w={init:function(t,e){this.el=t,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=i(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var t=this.instance.options,e=t.zIndex,i=t.enableGrab,o=t.transitionDuration,s=t.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:i?u:c,transition:"transform\n        "+o+"s\n        "+s,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=n(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,n(this.el,{transform:"none"})},grab:function(t,e,i){var o=r(),s=o.x-t,l=o.y-e;n(this.el,{cursor:d,transform:"translate3d(\n        "+(this.translate.x+s)+"px, "+(this.translate.y+l)+"px, 0px)\n        scale("+(this.scale.x+i)+","+(this.scale.y+i)+")"})},move:function(t,e,i){var o=r(),s=o.x-t,l=o.y-e;n(this.el,{transition:"transform",transform:"translate3d(\n        "+(this.translate.x+s)+"px, "+(this.translate.y+l)+"px, 0px)\n        scale("+(this.scale.x+i)+","+(this.scale.y+i)+")"})},restoreCloseStyle:function(){n(this.el,this.styleClose)},restoreOpenStyle:function(){n(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var t=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",t.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),t.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var t=r(),e=this.rect.left+this.rect.width/2,i=this.rect.top+this.rect.height/2;return{x:t.x-e,y:t.y-i}},calculateScale:function(){var t=this.el.dataset,e=t.zoomingHeight,i=t.zoomingWidth,n=this.instance.options,o=n.customSize,s=n.scaleBase;if(!o&&e&&i)return{x:i/this.rect.width,y:e/this.rect.height};if(o&&"object"===(void 0===o?"undefined":g(o)))return{x:o.width/this.rect.width,y:o.height/this.rect.height};var l=this.rect.width/2,a=this.rect.height/2,h=r(),c=(h.x-l)/l,u=(h.y-a)/a,d=s+Math.min(c,u);if(o&&"string"==typeof o){var f=i||this.el.naturalWidth,p=e||this.el.naturalHeight,y=parseFloat(o)*f/(100*this.rect.width),m=parseFloat(o)*p/(100*this.rect.height);if(y<d||m<d)return{x:y,y:m}}return{x:d,y:d}}};return function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(w),this.overlay=Object.create(m),this.handler=Object.create(y),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=b({},p,t),this.overlay.init(this),this.handler.init(this)}return v(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var o=document.querySelectorAll(n),s=o.length;s--;)this.listen(o[s]);else"IMG"===n.tagName&&(n.style.cursor=h,t(n,"click",this.handler.click),this.options.preloadImage&&e(i(n)));return this}},{key:"config",value:function(t){return t?(b(this.options,t),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(i){var n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var s="string"==typeof i?document.querySelector(i):i;if("IMG"===s.tagName){if(this.options.onBeforeOpen(s),this.target.init(s,this),!this.options.preloadImage){var r=this.target.srcOriginal;null!=r&&(this.options.onImageLoading(s),e(r,this.options.onImageLoaded))}return this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),t(document,"scroll",this.handler.scroll),t(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&t(window,"resize",this.handler.resizeWindow),t(s,"transitionend",function a(){t(s,"transitionend",a,!1),n.lock=!1,n.target.upgradeSource(),n.options.enableGrab&&l(document,n.handler,!0),o(s)}),this}}}},{key:"close",value:function(){var e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var n=this.target.el;return this.options.onBeforeClose(n),this.lock=!0,this.body.style.cursor=a,this.overlay.fadeOut(),this.target.zoomOut(),t(document,"scroll",this.handler.scroll,!1),t(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&t(window,"resize",this.handler.resizeWindow,!1),t(n,"transitionend",function o(){t(n,"transitionend",o,!1),e.shown=!1,e.lock=!1,e.target.downgradeSource(),e.options.enableGrab&&l(document,e.handler,!1),e.target.restoreCloseStyle(),e.overlay.remove(),i(n)}),this}}},{key:"grab",value:function(e,i){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var s=this.target.el;return this.options.onBeforeGrab(s),this.released=!1,this.target.grab(e,i,n),t(s,"transitionend",function r(){t(s,"transitionend",r,!1),o(s)}),this}}},{key:"move",value:function(e,i){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=d,this.target.move(e,i,n);var s=this.target.el;return t(s,"transitionend",function r(){t(s,"transitionend",r,!1),o(s)}),this}}},{key:"release",value:function(){var e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var n=this.target.el;return this.options.onBeforeRelease(n),this.lock=!0,this.body.style.cursor=a,this.target.restoreOpenStyle(),t(n,"transitionend",function o(){t(n,"transitionend",o,!1),e.lock=!1,e.released=!0,i(n)}),this}}}]),n}()});document.addEventListener('DOMContentLoaded',function(){new Zooming().listen('[data-action="zoom"]')});</script></body>
      
   
   
<!-- Mirrored from paystack.com/blog/marketing/improve-email-deliverability by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 May 2021 15:30:30 GMT -->
</html>
